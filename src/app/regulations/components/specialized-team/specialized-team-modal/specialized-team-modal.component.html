<form [formGroup]="form" class="animate-bottom" (ngSubmit)="onSubmit()"
  *ngIf="!(formContainerService.loading$ | async)">
  <fieldset>
    <div class="row">
      <div class="col-sm-6 form-group ui-fluid">
        <label for="fullName">{{'regulations.specializedTeam.expertPerson' | translate}}<span
            class="text-danger mr-2">*</span>
        </label>
        <div class="ui-inputgroup">
          <input id="fullName" type="text" pInputText readonly [value]="fullName">
          <button pButton type="button" icon="fa fa-plus" class="ui-button-success" (click)="onAddExpertPerson()"
            pTooltip="{{('action.add' | translate) + ' ' +('expertPerson.expertPerson' | translate)}}"
            tooltipPosition="top"></button>
        </div>
      </div>
      <div class="col-sm-6 form-group ui-fluid">
        <label for="startDate">{{'regulations.specializedTeam.startDate' | translate}} <span
            class="text-danger mr-2">*</span></label>
        <app-datepicker-popup-jalali id="startDate" [placement]="placement" formControlName="startDate" class="w-100">
        </app-datepicker-popup-jalali>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6 form-group ui-fluid">
        <label>{{'regulations.specializedTeam.responsibility' | translate}}<span
            class="text-danger mr-2">*</span></label>
        <app-basic-value-dropdown #responsibilityTeamCombo [basicValueType]="getBasicValueType('responsibilityTeam')"
          formControlName="responsibilityId" (selectedItem)="selectBasicValueType($event)" [showClear]="true"
          [placeholder]="'regulations.specializedTeam.selectResponsibility' | translate">
        </app-basic-value-dropdown>
      </div>
      <div class="col-sm-6 form-group ui-fluid">
        <label for="endDate"> {{'regulations.specializedTeam.endDate' | translate}}</label>
        <app-datepicker-popup-jalali id="endDate" [placement]="placement" formControlName="endDate" class="w-100">
        </app-datepicker-popup-jalali>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <label>{{'regulations.specializedTeam.TeamMembers' | translate}}</label>
        <p-table [value]="TeamMembers">
          <ng-template pTemplate="header">
            <tr>
              <th>{{'regulations.specializedTeam.certificateTitle' | translate}}</th>
              <th>{{'regulations.specializedTeam.responsibility' | translate}}</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr>
              <td>{{item.certificateTitle}}</td>
              <td>{{item.responsibilityName}}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
      <div class="col-md-6">
        <label>{{'regulations.specializedTeam.ExpertAppointments' | translate}}</label>
        <p-table [value]="ExpertAppointments">
          <ng-template pTemplate="header">
            <tr>
              <th>{{'regulations.specializedTeam.WorkingGroupTitle' | translate}}</th>
              <th>{{'regulations.specializedTeam.responsibility' | translate}}</th>

            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr>
              <td>{{item.expertWorkingGroupTitle}}</td>
              <td>{{item.responsibilityName}}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </fieldset>
  <div class="row">
    <div class="col-md-12" style="padding-top: 30px;">

      <button pButton label="افزودن" type="submit" [disabled]="this.form.invalid" icon="pi pi-plus" iconPos="right"
        class="ui-button-raised ui-button-success "></button>

      <button pButton type="button" (click)="onBack()" label="بستن"
        class="ui-button-raised ui-button-secondary mr-2 col-md-1">
      </button>
    </div>
  </div>
</form>
<p-toast [style]="{marginTop: '50px'}" life="9000" position="top-left" key="tl"></p-toast>
<app-expert-person-list-select #addExpertPerson (select)="selectExpertPerson($event)">
</app-expert-person-list-select>